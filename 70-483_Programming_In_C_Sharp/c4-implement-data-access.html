<div>
    <h1 id="chapter-4">Chapter 4: Implement Data Access</h1>
    <p>Skills covered in this chapter are:</p>
    <ul>
        <li><a href="#skill-4-1">Skill 4.1: Perform I/O Operations</a></li>
        <li><a href="#skill-4-2">Skill 4.2: Consume Data</a></li>
        <li><a href="#skill-4-3">Skill 4.3: Query and Manipulate Data and Objects by Using LINQ</a></li>
        <li><a href="#skill-4-4">Skill 4.4: Serialize and Deserialize Data by Using Binary and Custom Serialization, and
                XML, JSON and Data Contract Serializer</a></li>
        <li><a href="#skill-4-5">Skill 4.5: Store Data in and Retrieve Data from Collections</a></li>
        <li><a href="#qa-4">Thought Experiments</a></li>
    </ul>
    <div>
        <h2 id="skill-4-1">Skill 4.1: Perform I/O Operations</h2>
        <p>This section covers how to:</p>
        <ul>
            <li>Read and write files and streams</li>
            <li>Read and write from the network by using classes in the System.NET namespace</li>
            <li>Implement asynchronous I/O operations</li>
        </ul>
        <div>
            <h3>Read and Write Files and Streams</h3>
            <ul>
                <li>A stream is a software object that represents a stream of data.</li>
                <li>The .NET framework provides a Stream class that serves as the parent type to a range of classes that
                    can be used to read and write data.</li>
                <li>There are 3 ways that a program can interact with a stream:
                    <ul>
                        <li>Write a sequence of bytes to a stream</li>
                        <li>Read a sequence of bytes from a stream</li>
                        <li>Position the "file pointer" in a stream</li>
                    </ul>
                </li>
                <li>File Pointer: Position in the stream where the next read or write operation will take place.</li>
                <li>Seek Method: Provided by the stream to set the file pointer position.</li>
                <li>The Stream class is abstract and serves as a template for streams that connect to actual storage
                    resources.</li>
                <li>Any object that can work with a Stream can work with any objects that behave like a stream.</li>
                <li>System.IO.Stream is the base type to 5 types: BufferedStream, FileStream, MemoryStream, PipeStream,
                    and NetworkStream.</li>
                <li>Each base class contains the Stream behaviours that allow data to be transferred. However, each type
                    is created differently. <i>e.g. A FileStream must specify the path to the file, and a Memory Stream
                        must specify the buffer in memory.</i></li>
            </ul>
            <h4>Use FileStream</h4>
            <ul>
                <li>The FileStream object provides a stream instance connected to a file which converts calls into the
                    stream into commands for the filesystem on the computer running the program.</li>
                <li>The file system provides the interface to the physical device performing the data storage for the
                    computer.</li>
                <li>A call to the stream object's Write method will generate a request to the file system to write the
                    data to the storage.</li>
                <li>
                    <code>
                        static void Main(string[] args){
                        // Writing to a files
                        FileStream outputStream = new FileStream("Output.txt", FileMode.OpenOrCreate, FileAccess.Write);
                        string outputMessageString = "Hello world";
                        byte[] outputMessageBytes = Encoding.UTF8.GetBytes(outputMessageString);
                        outputStream.Write(outputMessageBytes, 0, outputMessageBytes.Length);
                        outputStream.Close();

                        // Reading from files
                        FileStream inputStream = new FileStream("Output.txt", FileMode.Open, FileAccess.Read);
                        long fileLength = inputStream.Length;
                        byte[] readBytes = new byte[fileLength];
                        inputStream.Read(readBytes, 0, (int)fileLength);
                        string readString = Encoding.UTF8.GetString(readBytes);
                        inputStream.Close();
                        Console.WriteLine("Read message: {0}", readString);

                        Console.ReadKey();
                        }
                    </code>
                </li>
            </ul>          
            <h4>Control File Use with FileMode and FileAccess</h4>
            <ul>
                <li>A stream can be associated with reading, writing, or updating a file.</li>
                <li>The base Stream class provides properties that a program can use to determine the abilities of a
                    given stream instance.</li>
                <li>The FileMode enumeration is used in the constructor of a FileStream to indicate how the file is to
                    be opened:
                    <ul>
                        <li><b>FileMode.Append:</b> Open a file for appending to the end. If the file exists, move the
                            seek position to the end of this file. If not, create it. Only useable if the file is being
                            opened for writing.</li>
                        <li><b>FileMode.Create:</b> Create a file for writing. If it exists, it is overwritten.</li>
                        <li><b>FileMode.CreateNew:</b> Create a file for writing. If it exists, an exception is thrown.
                        </li>
                        <li><b>FileMode.Open:</b> Open an existing file. If it doesn't exist, an exception is thrown.
                            The mode can be used for reading or writing.</li>
                        <li><b>FileMode.OpenOrCreate:</b> Open a file for reading or writing. If it doesn't exist, an
                            empty file is created. The mode can be used for reading or writing.</li>
                        <li><b>FileMode.Truncate:</b> Open a file for writing and remove any existing contents.</li>
                    </ul>
                </li>
                <li>The FileAccess enumeration is used to indicate how the file is to be used:
                    <ul>
                        <li><b>FileMode.Read:</b> Open a file for writing.</li>
                        <li><b>FileMode.ReadWrite:</b> Open a file for reading or writing.</li>
                        <li><b>FileMode.Write:</b> Open a file for writing.</li>
                    </ul>
                </li>
            </ul>
            <h4>Convert Text to Binary Data with Unicode</h4>
            <ul>
                <li>The System.Text namespace has the Encoding class which has a property, UTF8, which provides methods
                    that will encode and decode Unicode text.</li>
                <li>Unicode is a mapping of character symbols to number vaules. The UTF8 encoding maps Unicode
                    charaacters onto 8-bit calues that can be stored in arrays of bytes.</li>
                <li>Most text files are encoded using UTF8.</li>
                <li>The Encoding class also provides support for other encoding standaring including UTF32 and ASCII.
                </li>
                <li>The GetBytes encoding method takes a C# string and returns the bytes that represent that string in
                    the specified encoding.</li>
                <li>The GetString decoding method takes an array of bytes and returns the string that a buffer full of
                    bytes represents.</li>
            </ul>
            <h4>IDispose and FileStream Objects</h4>
            <ul>
                <li>The stream class implements IDisposable, meaning objects derived from the Stream type must also
                    implement the interface.</li>
                <li>This also means the using construction can be used to ensure that files are closed when they are no
                    longer required.</li>
            </ul>
            <h4>Work with Text Files</h4>
            <ul>
                <li>The filesystem makes no particular distinciton between text files and binary files.</li>
                <li>The TextWriter and TextReader classes are abstract stream classes which make it much easier to work
                    with text, and define a set of methods that can be used with text.</li>
                <li>The StreamWriter class extends the TextWriter class to allow us to write text to streams.
                    <code>
                        using (StreamWriter writeStream = new StreamWriter("Output.txt")){
                        writeStream.Write("Hello world!");
                        }

                        using (StreamReader readStream = new StreamReader("Output.txt")){
                        string readString = readStream.ReadToEnd();
                        Console.WriteLine("Text read: {0}", readString);
                        }
                    </code>
                </li>
            </ul>
    </div>
    <div>
        <h2 id="skill-4-2">Skill 4.2: Consume Data</h2>
        <ul>
            <li>NOTES</li>
            <li>NOTES</li>
            <li>NOTES</li>
        </ul>
        <p>This section covers how to:</p>
        <ul>
            <li>TOPIC</li>
            <li>TOPIC</li>
            <li>TOPIC</li>
        </ul>
        <div>
            <h3>HEADING</h3>
            <ul>
                <li>NOTES</li>
                <li>NOTES</li>
                <li>NOTES</li>
            </ul>
        </div>
    </div>
    <div>
        <h2 id="skill-4-3">Skill 4.3: Query and Manipulate Data and Objects by Using LINQ</h2>
        <ul>
            <li>NOTES</li>
            <li>NOTES</li>
            <li>NOTES</li>
        </ul>
        <p>This section covers how to:</p>
        <ul>
            <li>TOPIC</li>
            <li>TOPIC</li>
            <li>TOPIC</li>
        </ul>
        <div>
            <h3>HEADING</h3>
            <ul>
                <li>NOTES</li>
                <li>NOTES</li>
                <li>NOTES</li>
            </ul>
        </div>
    </div>
    <div>
        <h2 id="skill-4-4">Skill 4.4: Serialize and Deserialize Data by Using Binary and Custom Serialization, and XML,
            JSON and Data Contract Serializer</h2>
        <ul>
            <li>NOTES</li>
            <li>NOTES</li>
            <li>NOTES</li>
        </ul>
        <p>This section covers how to:</p>
        <ul>
            <li>TOPIC</li>
            <li>TOPIC</li>
            <li>TOPIC</li>
        </ul>
        <div>
            <h3>HEADING</h3>
            <ul>
                <li>NOTES</li>
                <li>NOTES</li>
                <li>NOTES</li>
            </ul>
        </div>
    </div>
    <div>
        <h2 id="skill-4-5">Skill 4.5: Store Data in and Retrieve Data from Collections</h2>
        <ul>
            <li>NOTES</li>
            <li>NOTES</li>
            <li>NOTES</li>
        </ul>
        <p>This section covers how to:</p>
        <ul>
            <li>TOPIC</li>
            <li>TOPIC</li>
            <li>TOPIC</li>
        </ul>
        <div>
            <h3>HEADING</h3>
            <ul>
                <li>NOTES</li>
                <li>NOTES</li>
                <li>NOTES</li>
            </ul>
        </div>
    </div>
    <div>
        <h2 id="qa-4">Thought Experiments</h2>
        <div>
            <h3>HEADING</h3>
            <p>DESCRIPTION</p>
            <p>Here are some questions to consider:</p>
            <ol>
                <li class="question-answer">
                    <div class="question">QUESTION</div>
                    <div class="answer">
                        <ul>
                            <li>ANSWER</li>
                            <li>ANSWER</li>
                        </ul>
                    </div>
                </li>
            </ol>
        </div>
    </div>
</div>